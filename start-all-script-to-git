#!/bin/bash
date-git=$(date "+%F %R")
LOGFILE=./start-all-script-to-git.txt
log(){
   message="$(date +"%d-%m-%y %T") $@"
   echo $message
   echo $message >>$LOGFILE
}

log "старт выполнения скрипта коммутаторов аруба"
./aruba-1830
log "скрипт закончил выполнение"
log "старт выполнения скрипта коммутаторов hpe 1820"
./hpe-1820
log "скрипт закончил выполнение"
log "старт выполнения скрипта коммутаторов hpe 1920"
./hpe-1920
log "скрипт закончил выполнение"
log "старт выполнения скрипта сбора данных микротиков"
./mikrotik-backup
log "скрипт закончил выполнение"
log "добавление изменений в гит"
git add .
log "создание комита с датой и временем"
git commit -m "${date-git}"
log "отправка изменений в репозиторий"
git push
log "конец работы"
